<!-- Start Product Grids -->
<section class="product-grids section">
  <div class="container">
      <div class="row">
          <div class="col-lg-3 col-12">
              <!-- Start Product Sidebar -->
              <div class="product-sidebar">
                  <!-- Start Single Widget -->
                  <div class="single-widget search">
                      <h3>ابحث عن كتاب</h3>
                      <form action="#">
                          <input type="text" placeholder="ابحث هنا ...">
                          <button type="submit"><i class="lni lni-search-alt"></i></button>
                      </form>
                  </div>
                  <!-- End Single Widget -->
                  <!-- Start Single Widget -->
                  <div class="single-widget">
                      <h3>التصنيفات</h3>
                      <ul class="list">
                          <li *ngFor="let genre of genres">
                              <a routerLink="">{{ genre.name }}</a><span>(1)</span>
                          </li>
                      </ul>
                  </div>
                  <!-- End Single Widget -->
              </div>
              <!-- End Product Sidebar -->
          </div>
          <div class="col-lg-9 col-12">
              <div class="product-grids-head">
                  <div class="product-grid-topbar">
                      <div class="row align-items-center">
                          <div class="col-lg-7 col-md-8 col-12">
                              <div class="product-sorting">
                                  <label for="sorting">رتب حسب:</label>
                                  <select class="form-control" id="sorting" (change)="onSortChange($any($event.target).value)">
                                      <option value="priceASE">أقل سعرًا لأعلي</option>
                                      <option value="priceDES">أعلى سعرًا لأقل</option>
                                      <option value="titleASE">أ - ي</option>
                                      <option value="titleDES">ي - أ</option>
                                  </select>
                                  <h3 class="total-show-product">عرض: <span>1 - 12 كتاب</span></h3>
                              </div>
                          </div>
                          <div class="col-lg-5 col-md-4 col-12">
                              <nav>
                                  <div class="nav nav-tabs" id="nav-tab" role="tablist">
                                      <button class="nav-link active" id="nav-grid-tab" data-bs-toggle="tab"
                                          data-bs-target="#nav-grid" type="button" role="tab"
                                          aria-controls="nav-grid" aria-selected="true"><i
                                              class="lni lni-grid-alt"></i></button>
                                      <button class="nav-link" id="nav-list-tab" data-bs-toggle="tab"
                                          data-bs-target="#nav-list" type="button" role="tab"
                                          aria-controls="nav-list" aria-selected="false"><i
                                              class="lni lni-list"></i></button>
                                  </div>
                              </nav>
                          </div>
                      </div>
                  </div>
                  <div class="tab-content" id="nav-tabContent">
                    <div *ngIf="isLoading">
                      <p>Loading books...</p>
                    </div>
                  
                    <div *ngIf="error">
                      <p class="error-message">Error: {{ error }}</p>
                    </div>

                      <div class="tab-pane fade show active" id="nav-grid" role="tabpanel"
                          aria-labelledby="nav-grid-tab">
                          <div class="row">
                              <div *ngFor="let book of books" class="col-lg-4 col-md-6 col-12">
                                  <!-- Start Single Product -->
                                  <div class="single-product">
                                      <div class="product-image">
                                          <img [src]="book.image" alt="{{ book.title }}">
                                          <div class="button">
                                              <a (click)="addToCart(book)" class="btn"><i
                                                      class="lni lni-cart"></i> اضف إلى السلة</a>
                                          </div>
                                      </div>
                                      <div class="product-info">
                                          <span class="category">{{ book.genre?.name }}</span>
                                          <h4 class="title mt-2">
                                              <a [routerLink]="['/book', book.id]">{{ book.title }}</a>
                                          </h4>
                                          <span class="mt-2">{{ book.author?.name }}</span>
                                          <ul class="review mt-2">
                                              <li><i class="lni lni-star-filled"></i></li>
                                              <li><i class="lni lni-star-filled"></i></li>
                                              <li><i class="lni lni-star-filled"></i></li>
                                              <li><i class="lni lni-star-filled"></i></li>
                                              <li><i class="lni lni-star"></i></li>
                                              <li></li>
                                          </ul>
                                          <div class="price">
                                              <span>{{ book.price | currency:'EGP' }}</span>
                                          </div>
                                      </div>
                                  </div>
                                  <!-- End Single Product -->
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-12">
                                <!--app-pagination
                                  *ngIf="totalPages > 1"
                                  [currentPage]="currentPage"
                                  [totalPages]="totalPages"
                                  (onPageChange)="onPageChange($event)"
                                ></app-pagination-->

                                  <!-- Pagination -->
                                  <div class="pagination left">
                                      <ul class="pagination-list">
                                          <li><a href="javascript:void(0)">1</a></li>
                                          <li class="active"><a href="javascript:void(0)">2</a></li>
                                          <li><a href="javascript:void(0)">3</a></li>
                                          <li><a href="javascript:void(0)">4</a></li>
                                          <li><a href="javascript:void(0)"><i
                                                      class="lni lni-chevron-right"></i></a></li>
                                      </ul>
                                  </div>
                                  <!--/ End Pagination -->
                              </div>
                          </div>
                      </div>
                      <div class="tab-pane fade" id="nav-list" role="tabpanel" aria-labelledby="nav-list-tab">
                          <div class="row">
                              <div class="col-lg-12 col-md-12 col-12">
                                  <!-- Start Single Product -->
                                  <div *ngFor="let book of books" class="single-product">
                                      <div class="row align-items-center">
                                          <div class="col-lg-4 col-md-4 col-12">
                                              <div class="product-image">
                                                  <img [src]="book.image" alt="{{ book.title }}">
                                                  <div class="button">
                                                      <a (click)="addToCart(book)" class="btn"><i
                                                              class="lni lni-cart"></i> اضف إلى السلة</a>
                                                  </div>
                                              </div>
                                          </div>
                                          <div class="col-lg-8 col-md-8 col-12">
                                              <div class="product-info">
                                                  <span class="category mt-2">{{ book.genre?.name }}</span>
                                                  <h2 class="title mt-2">
                                                      <a [routerLink]="['/book', book.id]">{{ book.title }}</a>
                                                  </h2>
                                                  <span class="mt-2">{{ book.author?.name }}</span>
                                                  <ul class="review mt-2">
                                                      <li><i class="lni lni-star-filled"></i></li>
                                                      <li><i class="lni lni-star-filled"></i></li>
                                                      <li><i class="lni lni-star-filled"></i></li>
                                                      <li><i class="lni lni-star-filled"></i></li>
                                                      <li><i class="lni lni-star"></i></li>
                                                      <li></li>
                                                  </ul>
                                                  <div class="price">
                                                      <span>{{ book.price | currency:'EGP' }}</span>
                                                  </div>
                                              </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- End Single Product -->
                              </div>
                          </div>
                          <div class="row">
                              <div class="col-12">
                                  <!--app-pagination
                                    *ngIf="totalPages > 1"
                                    [currentPage]="currentPage"
                                    [totalPages]="totalPages"
                                    (onPageChange)="onPageChange($event)"
                                  ></app-pagination-->

                                  <!-- Pagination -->
                                  <div class="pagination left">
                                      <ul class="pagination-list">
                                          <li><a href="javascript:void(0)">1</a></li>
                                          <li class="active"><a href="javascript:void(0)">2</a></li>
                                          <li><a href="javascript:void(0)">3</a></li>
                                          <li><a href="javascript:void(0)">4</a></li>
                                          <li><a href="javascript:void(0)"><i
                                                      class="lni lni-chevron-right"></i></a></li>
                                      </ul>
                                  </div>
                                  <!--/ End Pagination -->
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
  </div>
</section>
<!-- End Product Grids -->

<!--
  <div class="book-list">
  <h2>Books</h2>

  <div *ngIf="isLoading">
    <p>Loading books...</p>
  </div>

  <div *ngIf="error">
    <p class="error-message">Error: {{ error }}</p>
  </div>

  <div *ngIf="books.length > 0">
    <ul class="book-list-items">
      <li *ngFor="let book of books" [routerLink]="['/books', book.id]">
        <div class="book-item">
          <img [src]="book.imageUrl" [alt]="book.title">
          <h3>{{ book.title }}</h3>
          <p class="author">{{ book.author }}</p>
          <span class="price">
            {{ book.price | currency:'USD' }}
          </span>
          <app-book-rating [rating]="book.rating"></app-book-rating>
        </div>
      </li>
    </ul>

    <div class="pagination">
      <a [routerLink]="['/books']" [queryParams]="{ page: currentPage - 1 }" *ngIf="currentPage > 1">Previous</a>
      <span>{{ currentPage }} / {{ totalPages }}</span>
      <a [routerLink]="['/books']" [queryParams]="{ page: currentPage + 1 }" *ngIf="currentPage < totalPages">Next</a>
    </div>
  </div>

  <div *ngIf="books.length === 0 && !isLoading">
    <p>No books found.</p>
  </div>
</div>
-->